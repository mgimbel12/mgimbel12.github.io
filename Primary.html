<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Primary Color Circle — Red, Blue, Yellow</title>
  <style>
    :root{
      --bg:#f7f7fb;
      --ink:#1a1b1e;
      --muted:#5a5f6b;
      --ring:#333;
      --red:#ff2b2b;
      --blue:#2563eb;
      --yellow:#ffcc00;
      --white:#fff;
      --focus:#ffcf4d;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family: system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      background:var(--bg); color:var(--ink);
      display:flex; min-height:100vh; align-items:center; justify-content:center;
    }
    .wrap{
      width:min(900px, 92vw);
      display:grid; gap:1rem;
      grid-template-columns: 1.1fr .9fr;
      padding:1rem;
    }
    @media (max-width:820px){ .wrap{ grid-template-columns:1fr } }

    .card{
      background:var(--white);
      border:1px solid #ddd; border-radius:14px;
      box-shadow:0 8px 24px rgba(0,0,0,.08);
      padding:1rem;
    }
    h1{ margin:.2rem 0 .6rem; font-size:1.25rem }
    p.muted{ color:var(--muted); margin:.25rem 0 .75rem }

    .circle-wrap{
      display:grid; place-items:center; padding:.5rem;
    }
    svg{ max-width:100%; height:auto; }
    .segment{
      cursor:pointer; transition: .2s ease;
      stroke: var(--ring); stroke-width:2;
    }
    .segment:hover{ filter:brightness(1.05) drop-shadow(0 2px 6px rgba(0,0,0,.15)) }
    .segment[aria-pressed="true"]{ stroke-width:4 }

    .legend{
      display:flex; gap:.5rem; flex-wrap:wrap; margin-top:.75rem;
    }
    .chip{
      display:flex; align-items:center; gap:.4rem;
      border:1px solid #ddd; border-radius:999px; padding:.25rem .6rem;
      font-size:.9rem;
    }
    .dot{ width:14px; height:14px; border-radius:50% }

    .preview{
      display:grid; gap:.75rem;
    }
    .swatch{
      height:140px; border-radius:12px; border:1px solid #ddd;
      box-shadow: inset 0 0 0 2px rgba(0,0,0,.04);
    }
    .row{ display:flex; flex-wrap:wrap; gap:.5rem; align-items:center }
    .btn{
      appearance:none; border:1px solid #ddd; background:var(--white);
      color:var(--ink); padding:.5rem .75rem; border-radius:10px; cursor:pointer;
    }
    .btn:focus-visible{ outline:3px solid var(--focus); outline-offset:2px }
    code{ background:#f0f2f6; padding:.15rem .35rem; border-radius:6px }
  </style>
</head>
<body>
  <main class="wrap">
    <section class="card">
      <h1>Primary color circle</h1>
      <p class="muted">Click red, blue, or yellow to preview or blend. Use Tab to focus segments and Enter to toggle.</p>

      <div class="circle-wrap">
        <!-- SVG circle split into three equal segments -->
        <svg viewBox="0 0 200 200" role="group" aria-label="Primary color circle">
          <!-- Segment centers at 100,100; radius ~80 -->
          <!-- Red: 300° → 60° -->
          <path id="seg-red" class="segment"
                d="M100,100 L169.28,140.00 A80,80 0 0,1 100,180 Z"
                fill="var(--red)" tabindex="0" role="button" aria-pressed="false" aria-label="Red segment">
          </path>
          <!-- Yellow: 60° → 180° -->
          <path id="seg-yellow" class="segment"
                d="M100,100 L100,20 A80,80 0 0,1 169.28,60.00 Z"
                fill="var(--yellow)" tabindex="0" role="button" aria-pressed="false" aria-label="Yellow segment">
          </path>
          <!-- Blue: 180° → 300° -->
          <path id="seg-blue" class="segment"
                d="M100,100 L30.72,60.00 A80,80 0 0,1 30.72,140.00 Z"
                fill="var(--blue)" tabindex="0" role="button" aria-pressed="false" aria-label="Blue segment">
          </path>

          <!-- Outer ring -->
          <circle cx="100" cy="100" r="82" fill="transparent" stroke="var(--ring)" stroke-width="2" aria-hidden="true"/>
          <!-- Inner hole to give donut look -->
          <circle cx="100" cy="100" r="44" fill="var(--white)" stroke="#ddd" stroke-width="1" aria-hidden="true"/>
        </svg>

        <div class="legend" aria-label="Legend">
          <div class="chip"><span class="dot" style="background:var(--red)"></span>Red</div>
          <div class="chip"><span class="dot" style="background:var(--yellow)"></span>Yellow</div>
          <div class="chip"><span class="dot" style="background:var(--blue)"></span>Blue</div>
        </div>
      </div>
    </section>

    <section class="card preview">
      <h1>Blend preview</h1>
      <div id="swatch" class="swatch" aria-label="Blend swatch"></div>
      <div class="row">
        <div><strong>Selected:</strong> <span id="selectedList">None</span></div>
      </div>
      <div class="row">
        <div><strong>RGB:</strong> <code id="rgbVal">—</code></div>
        <div><strong>HEX:</strong> <code id="hexVal">—</code></div>
      </div>
      <div class="row">
        <button class="btn" id="clearBtn">Clear</button>
      </div>
      <p class="muted">Blending uses simple additive averaging of RGB values for a quick, intuitive mix.</p>
    </section>
  </main>

  <script>
    const segs = {
      red: { el: document.getElementById('seg-red'), rgb: [255, 43, 43], name: 'Red' },
      yellow: { el: document.getElementById('seg-yellow'), rgb: [255, 204, 0], name: 'Yellow' },
      blue: { el: document.getElementById('seg-blue'), rgb: [37, 99, 235], name: 'Blue' }
    };

    const swatch = document.getElementById('swatch');
    const selectedList = document.getElementById('selectedList');
    const rgbVal = document.getElementById('rgbVal');
    const hexVal = document.getElementById('hexVal');
    const clearBtn = document.getElementById('clearBtn');

    const active = new Set();

    function updateUI(){
      // List
      const names = [...active].map(k => segs[k].name);
      selectedList.textContent = names.length ? names.join(', ') : 'None';

      // Blend
      if(!names.length){
        swatch.style.background = 'linear-gradient(135deg,#f0f2f6,#fff)';
        rgbVal.textContent = '—';
        hexVal.textContent = '—';
        return;
      }
      const sum = names.reduce((acc,_,i)=>acc, [0,0,0]);
      let r=0,g=0,b=0;
      active.forEach(k => {
        const [rr,gg,bb] = segs[k].rgb;
        r += rr; g += gg; b += bb;
      });
      const n = active.size;
      r = Math.round(r/n); g = Math.round(g/n); b = Math.round(b/n);
      const hex = toHex(r,g,b);
      swatch.style.background = `#${hex}`;
      rgbVal.textContent = `rgb(${r}, ${g}, ${b})`;
      hexVal.textContent = `#${hex}`;
    }

    function toHex(r,g,b){
      const h = [r,g,b].map(v => v.toString(16).padStart(2,'0')).join('');
      return h;
    }

    function toggleSegment(key){
      const seg = segs[key];
      if(active.has(key)){ active.delete(key); seg.el.setAttribute('aria-pressed','false'); }
      else { active.add(key); seg.el.setAttribute('aria-pressed','true'); }
      updateUI();
    }

    Object.entries(segs).forEach(([key, {el}])=>{
      el.addEventListener('click', ()=> toggleSegment(key));
      el.addEventListener('keydown', (e)=>{
        if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); toggleSegment(key); }
      });
    });

    clearBtn.addEventListener('click', ()=>{
      active.clear();
      Object.values(segs).forEach(s => s.el.setAttribute('aria-pressed','false'));
      updateUI();
    });

    updateUI();
  </script>
</body>
</html>

